{"version":3,"sources":["view/CanvasView.ts","sprites/Ball.ts","sprites/Paddle.ts","Collision.ts","setup.ts","sprites/Brick.ts","helpers.ts","index.ts"],"names":[],"mappings":"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","file":"src.25ead522.js","sourceRoot":"../src","sourcesContent":["// Types\nimport { Brick } from '../sprites/Brick';\nimport { Paddle } from '../sprites/Paddle';\nimport { Ball } from '../sprites/Ball';\n\nexport class CanvasView {\n  canvas: HTMLCanvasElement;\n  private context: CanvasRenderingContext2D | null;\n  private scoreDisplay: HTMLObjectElement | null;\n  private start: HTMLObjectElement | null;\n  private info: HTMLObjectElement | null;\n\n  constructor(canvasName: string) {\n    this.canvas = document.querySelector(canvasName) as HTMLCanvasElement;\n    this.context = this.canvas.getContext('2d');\n    this.scoreDisplay = document.querySelector('#score');\n    this.start = document.querySelector('#start');\n    this.info = document.querySelector('#info');\n  }\n\n  clear(): void {\n    this.context?.clearRect(0, 0, this.canvas.width, this.canvas.height);\n  }\n\n  initStartButton(startFunction: (view: CanvasView) => void): void {\n    this.start?.addEventListener('click', () => startFunction(this));\n  }\n\n  drawScore(score: number): void {\n    if (this.scoreDisplay) this.scoreDisplay.innerHTML = score.toString();\n  }\n\n  drawInfo(text: string): void {\n    if (this.info) this.info.innerHTML = text;\n  }\n\n  drawSprite(brick: Brick | Paddle | Ball): void {\n    if (!brick) return;\n\n    this.context?.drawImage(brick.image, brick.pos.x, brick.pos.y, brick.width, brick.height);\n  }\n\n  drawBricks(bricks: Brick[]): void {\n    bricks.forEach((brick) => this.drawSprite(brick));\n  }\n}\n","import { Vector } from '../types';\n\nexport class Ball {\n  private speed: Vector;\n  private ballImage: HTMLImageElement = new Image();\n\n  constructor(speed: number, image: string, private ballSize: number, private position: Vector) {\n    this.ballSize = ballSize;\n    this.position = position;\n    this.speed = { x: speed, y: -speed };\n    this.ballImage.src = image;\n  }\n\n  // Getters\n  get width(): number {\n    return this.ballSize;\n  }\n\n  get height(): number {\n    return this.ballSize;\n  }\n\n  get pos(): Vector {\n    return this.position;\n  }\n\n  get image(): HTMLImageElement {\n    return this.ballImage;\n  }\n\n  // Methods\n  changeYDirection(): void {\n    this.speed.y = -this.speed.y;\n  }\n\n  changeXDirection(): void {\n    this.speed.x = -this.speed.x;\n  }\n\n  moveBall(): void {\n    this.pos.x += this.speed.x;\n    this.pos.y += this.speed.y;\n  }\n}\n","import { Vector } from '../types';\n\nexport class Paddle {\n  private paddleImage: HTMLImageElement = new Image();\n  private moveLeft: boolean;\n  private moveRight: boolean;\n\n  constructor(\n    private speed: number,\n    private paddleWidth: number,\n    private paddleHeight: number,\n    private position: Vector,\n    image: string\n  ) {\n    this.speed = speed;\n    this.paddleWidth = paddleWidth;\n    this.paddleHeight = paddleHeight;\n    this.position = position;\n    this.moveLeft = false;\n    this.moveRight = false;\n    this.paddleImage.src = image;\n\n    // Event Listeners\n    document.addEventListener('keydown', this.handleKeyDown);\n    document.addEventListener('keyup', this.handleKeyUp);\n  }\n\n  // Getters\n  get width(): number {\n    return this.paddleWidth;\n  }\n\n  get height(): number {\n    return this.paddleHeight;\n  }\n\n  get pos(): Vector {\n    return this.position;\n  }\n\n  get image(): HTMLImageElement {\n    return this.paddleImage;\n  }\n\n  get isMovingLeft(): boolean {\n    return this.moveLeft;\n  }\n  get isMovingRight(): boolean {\n    return this.moveRight;\n  }\n\n  movePaddle(): void {\n    if (this.moveLeft) this.pos.x -= this.speed;\n    if (this.moveRight) this.pos.x += this.speed;\n  }\n\n  handleKeyUp = (e: KeyboardEvent): void => {\n    if (e.code === 'ArrowLeft' || e.key === 'ArrowLeft') this.moveLeft = false;\n    if (e.code === 'ArrowRight' || e.key === 'ArrowRight') this.moveRight = false;\n  };\n\n  handleKeyDown = (e: KeyboardEvent): void => {\n    if (e.code === 'ArrowLeft' || e.key === 'ArrowLeft') this.moveLeft = true;\n    if (e.code === 'ArrowRight' || e.key === 'ArrowRight') this.moveRight = true;\n  };\n}\n","// Types\nimport { Brick } from './sprites/Brick';\nimport { Paddle } from './sprites/Paddle';\nimport { Ball } from './sprites/Ball';\nimport { CanvasView } from './view/CanvasView';\n\nexport class Collision {\n  checkBallCollision(ball: Ball, paddle: Paddle, view: CanvasView): void {\n    // 1. Check ball collision with paddle\n    if (\n      ball.pos.x + ball.width > paddle.pos.x &&\n      ball.pos.x < paddle.pos.x + paddle.width &&\n      ball.pos.y + ball.height === paddle.pos.y\n    ) {\n      ball.changeYDirection();\n    }\n\n    // 2. Check ball collision with walls\n    // Ball movement X constraints\n    if (ball.pos.x > view.canvas.width - ball.width || ball.pos.x < 0) {\n      ball.changeXDirection();\n    }\n    // Ball Movement Y constraints\n    if (ball.pos.y < 0) {\n      ball.changeYDirection();\n    }\n  }\n\n  isCollidingBrick(ball: Ball, brick: Brick): boolean {\n    if (\n      ball.pos.x < brick.pos.x + brick.width &&\n      ball.pos.x + ball.width > brick.pos.x &&\n      ball.pos.y < brick.pos.y + brick.height &&\n      ball.pos.y + ball.height > brick.pos.y\n    ) {\n      return true;\n    }\n    return false;\n  }\n\n  isCollidingBricks(ball: Ball, bricks: Brick[]): boolean {\n    let colliding = false;\n\n    bricks.forEach((brick, i) => {\n      if (this.isCollidingBrick(ball, brick)) {\n          ball.changeYDirection();\n\n          if (brick.energy === 1) {\n              bricks.splice(i, 1);\n          } else {\n              brick.energy -= 1;\n          }\n\n          colliding = true;\n      }\n    });\n\n    return colliding;\n  }\n}\n","import RED_BRICK_IMAGE from './images/brick-red.png';\nimport BLUE_BRICK_IMAGE from './images/brick-blue.png';\nimport GREEN_BRICK_IMAGE from './images/brick-green.png';\nimport YELLOW_BRICK_IMAGE from './images/brick-yellow.png';\nimport PURPLE_BRICK_IMAGE from './images/brick-purple.png';\n\n// Grab the canvas element for calculating the brick width\n// depending on canvas width\nconst canvas: HTMLCanvasElement | null = document.querySelector('#playField');\n\n// Constants\nexport const STAGE_PADDING = 10;\nexport const STAGE_ROWS = 20;\nexport const STAGE_COLS = 10;\nexport const BRICK_PADDING = 5;\nexport const BRICK_WIDTH = canvas\n  ? Math.floor((canvas.width - STAGE_PADDING * 2) / STAGE_COLS) - BRICK_PADDING\n  : 100;\nexport const BRICK_HEIGHT = canvas\n  ? Math.floor((canvas.height - STAGE_PADDING * 2) / STAGE_ROWS) - BRICK_PADDING\n  : 30;\nexport const PADDLE_WIDTH = 150;\nexport const PADDLE_HEIGHT = 25;\nexport const PADDLE_STARTX = 450;\nexport const PADDLE_SPEED = 10;\nexport const BALL_SPEED = 5;\nexport const BALL_SIZE = 20;\nexport const BALL_STARTX = 500;\nexport const BALL_STARTY = 400;\n\nexport const BRICK_IMAGES: { [key: number]: string } = {\n  1: RED_BRICK_IMAGE,\n  2: GREEN_BRICK_IMAGE,\n  3: YELLOW_BRICK_IMAGE,\n  4: BLUE_BRICK_IMAGE,\n  5: PURPLE_BRICK_IMAGE\n};\n\nexport const BRICK_ENERGY: { [key: number]: number } = {\n  1: 1, // Red brick\n  2: 1, // Green brick\n  3: 2, // Yellow brick\n  4: 2, // Blue brick\n  5: 3 // Purple brick\n};\n\n// prettier-ignore\nexport const LEVEL = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 1, 1, 1, 1, 1, 1, 0, 0,\n  0, 2, 2, 2, 2, 2, 2, 2, 2, 0,\n  0, 3, 3, 3, 3, 3, 3, 3, 3, 0,\n  0, 0, 4, 4, 4, 4, 4, 4, 0, 0, \n  0, 0, 5, 5, 0, 0, 5, 5, 0, 0,\n];\n","import { Vector } from '../types';\n\nexport class Brick {\n  private brickImage: HTMLImageElement = new Image();\n\n  constructor(\n    private brickWidth: number,\n    private brickHeight: number,\n    private position: Vector,\n    private brickEnergy: number,\n    image: string\n  ) {\n    this.brickWidth = brickWidth;\n    this.brickHeight = brickHeight;\n    this.position = position;\n    this.brickEnergy = brickEnergy;\n    this.brickImage.src = image;\n  }\n\n  // Getters\n  get width(): number {\n    return this.brickWidth;\n  }\n  get height(): number {\n    return this.brickHeight;\n  }\n  get energy(): number {\n    return this.brickEnergy;\n  }\n  get pos(): Vector {\n    return this.position;\n  }\n  get image(): HTMLImageElement {\n    return this.brickImage;\n  }\n\n  // Setter\n  set energy(energy: number) {\n    this.brickEnergy = energy;\n  }\n}\n","import { Brick } from \"./sprites/Brick\";\nimport { BRICK_IMAGES, LEVEL, STAGE_COLS, STAGE_PADDING, BRICK_WIDTH, BRICK_HEIGHT, BRICK_PADDING, BRICK_ENERGY } from \"./setup\";\n\nexport function createBricks(): Brick[] {\n  return LEVEL.reduce((ack, element, i) => {\n    const row = Math.floor((i + 1) / STAGE_COLS);\n    const col = i % STAGE_COLS;\n\n    const x = STAGE_PADDING + col * (BRICK_WIDTH + BRICK_PADDING);\n    const y = STAGE_PADDING + row * (BRICK_HEIGHT + BRICK_PADDING);\n\n    if (element === 0) return ack;\n\n    return [\n      ...ack,\n      new Brick(\n        BRICK_WIDTH,\n        BRICK_HEIGHT,\n        {\n          x,\n          y,\n        },\n        BRICK_ENERGY[element],\n        BRICK_IMAGES[element]\n      ),\n    ];\n  }, [] as Brick[]);\n}\n","import { CanvasView } from './view/CanvasView';\nimport { Ball } from './sprites/Ball';\nimport { Brick } from './sprites/Brick';\nimport { Paddle } from './sprites/Paddle';\nimport { Collision } from './Collision';\n// Images\nimport PADDLE_IMAGE from './images/paddle.png';\nimport BALL_IMAGE from './images/ball.png';\n// Level and colors\nimport {\n  PADDLE_SPEED,\n  PADDLE_WIDTH,\n  PADDLE_HEIGHT,\n  PADDLE_STARTX,\n  BALL_SPEED,\n  BALL_SIZE,\n  BALL_STARTX,\n  BALL_STARTY,\n} from './setup';\n// Helpers\nimport { createBricks } from './helpers';\n\nlet gameOver = false;\nlet score = 0;\n\nfunction setGameOver(view: CanvasView) {\n  view.drawInfo('Game Over!');\n  gameOver = false;\n}\n\nfunction setGameWin(view: CanvasView) {\n  view.drawInfo('Game Won!');\n  gameOver = false;\n}\n\nfunction gameLoop(view: CanvasView, bricks: Brick[], paddle: Paddle, ball: Ball, collision: Collision) {\n  view.clear();\n  view.drawBricks(bricks);\n  view.drawSprite(paddle);\n  view.drawSprite(ball);\n\n  // Move ball\n  ball.moveBall();\n\n  // Move paddle and check so it won't exit the playfield\n  if (\n    (paddle.isMovingLeft && paddle.pos.x > 0) ||\n    (paddle.isMovingRight && paddle.pos.x < view.canvas.width - paddle.width)\n  ) {\n    paddle.movePaddle();\n  }\n\n  collision.checkBallCollision(ball, paddle, view);\n  const collidingBrick = collision.isCollidingBricks(ball, bricks);\n\n  if (collidingBrick) {\n    score += 1;\n    view.drawScore(score);\n  }\n\n  // Game Over when ball leaves playField\n  if (ball.pos.y > view.canvas.height) gameOver = true;\n  if (bricks.length === 0) return setGameWin(view);\n  if (gameOver) return setGameOver(view);\n\n  requestAnimationFrame(() => gameLoop(view, bricks, paddle, ball, collision));\n}\n\nfunction startGame(view: CanvasView) {\n  // Reset displays\n  score = 0;\n  view.drawInfo('');\n  view.drawScore(0);\n  // Create a collision instance\n  const collision = new Collision();\n  // Create all bricks;\n  const bricks = createBricks();\n  // Create a ball\n  const ball = new Ball(BALL_SPEED, BALL_IMAGE, BALL_SIZE, { x: BALL_STARTX, y: BALL_STARTY });\n  // Create a Paddle\n  const paddle = new Paddle(\n    PADDLE_SPEED,\n    PADDLE_WIDTH,\n    PADDLE_HEIGHT,\n    {\n      x: PADDLE_STARTX,\n      y: view.canvas.height - PADDLE_HEIGHT - 5,\n    },\n    PADDLE_IMAGE\n  );\n\n  gameLoop(view, bricks, paddle, ball, collision);\n}\n\n// Create a new view\nconst view = new CanvasView('#playField');\nview.initStartButton(startGame);\n"]}